<div class="form-container fade-in-up">
  <!-- Header -->
  <div class="form-header">
    <button class="back-btn glow-effect" (click)="cancel()">
      <span class="btn-icon">â†</span>
      Back to Team
    </button>
    <h1 class="form-title">
      <span class="title-icon">{{ isEdit ? 'âœï¸' : 'âœ¨' }}</span>
      {{ isEdit ? 'Edit Superstar' : 'Add New Star' }}
    </h1>
    <div class="header-actions">
      <button class="preview-btn" (click)="cancel()">
        <span class="btn-icon">ğŸ‘ï¸</span>
        Preview
      </button>
    </div>
  </div>

  <!-- Formulaire Principal -->
  <div class="form-card">
    <form [formGroup]="employeeForm" (ngSubmit)="onSubmit()" class="employee-form">

      <!-- Section Informations Personnelles -->
      <div class="form-section">
        <div class="section-header">
          <span class="section-icon">ğŸ‘¤</span>
          <h2 class="section-title">Personal Information</h2>
          <div class="section-decoration"></div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label class="form-label">
              <span class="label-icon">ğŸ†”</span>
              First Name
            </label>
            <input
              type="text"
              class="form-input"
              formControlName="firstName"
              placeholder="Enter first name..."
              [class.error]="firstName?.invalid && firstName?.touched">
            <div class="form-hint">The superstar's first name</div>
            <div class="error-message" *ngIf="firstName?.errors?.['required'] && firstName?.touched">
              âš ï¸ First name is required
            </div>
            <div class="error-message" *ngIf="firstName?.errors?.['minlength'] && firstName?.touched">
              âš ï¸ First name must be at least 2 characters
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">
              <span class="label-icon">ğŸ†”</span>
              Last Name
            </label>
            <input
              type="text"
              class="form-input"
              formControlName="lastName"
              placeholder="Enter last name..."
              [class.error]="lastName?.invalid && lastName?.touched">
            <div class="form-hint">The superstar's last name</div>
            <div class="error-message" *ngIf="lastName?.errors?.['required'] && lastName?.touched">
              âš ï¸ Last name is required
            </div>
            <div class="error-message" *ngIf="lastName?.errors?.['minlength'] && lastName?.touched">
              âš ï¸ Last name must be at least 2 characters
            </div>
          </div>
        </div>
      </div>

      <!-- Section Contact -->
      <div class="form-section">
        <div class="section-header">
          <span class="section-icon">ğŸ“§</span>
          <h2 class="section-title">Contact Details</h2>
          <div class="section-decoration"></div>
        </div>

        <div class="form-group full-width">
          <label class="form-label">
            <span class="label-icon">âœ‰ï¸</span>
            Email Address
          </label>
          <input
            type="email"
            class="form-input"
            formControlName="email"
            placeholder="Enter professional email..."
            [class.error]="email?.invalid && email?.touched">
          <div class="form-hint">We'll never share this with anyone else</div>
          <div class="error-message" *ngIf="email?.errors?.['required'] && email?.touched">
            âš ï¸ Email is required
          </div>
          <div class="error-message" *ngIf="email?.errors?.['email'] && email?.touched">
            âš ï¸ Please enter a valid email address
          </div>
        </div>
      </div>

      <!-- Section Salaire -->
      <div class="form-section">
        <div class="section-header">
          <span class="section-icon">ğŸ’°</span>
          <h2 class="section-title">Compensation Package</h2>
          <div class="section-decoration"></div>
        </div>

        <div class="form-group full-width">
          <label class="form-label">
            <span class="label-icon">ğŸ’µ</span>
            Annual Salary
          </label>
          <div class="salary-input-container">
            <span class="currency-symbol">$</span>
            <input
              type="number"
              class="form-input salary-input"
              formControlName="salary"
              placeholder="0.00"
              step="0.01"
              min="0"
              [class.error]="salary?.invalid && salary?.touched">
            <span class="currency-period">USD / year</span>
          </div>
          <div class="form-hint">The total annual compensation package</div>
          <div class="error-message" *ngIf="salary?.errors?.['required'] && salary?.touched">
            âš ï¸ Salary is required
          </div>
          <div class="error-message" *ngIf="salary?.errors?.['min'] && salary?.touched">
            âš ï¸ Salary must be a positive amount
          </div>
        </div>

        <!-- Calculs automatiques -->
        <div class="salary-breakdown" *ngIf="salaryValue > 0">
          <div class="breakdown-item">
            <span class="breakdown-label">Monthly</span>
            <span class="breakdown-value">{{ salaryValue / 12 | currency:'USD' }}</span>
          </div>
          <div class="breakdown-item">
            <span class="breakdown-label">Weekly</span>
            <span class="breakdown-value">{{ salaryValue / 52 | currency:'USD' }}</span>
          </div>
          <div class="breakdown-item">
            <span class="breakdown-label">Daily</span>
            <span class="breakdown-value">{{ salaryValue / 260 | currency:'USD' }}</span>
          </div>
        </div>
      </div>

      <!-- AperÃ§u en temps rÃ©el -->
      <div class="preview-section" *ngIf="employeeForm.valid">
        <div class="section-header">
          <span class="section-icon">ğŸ‘ï¸</span>
          <h2 class="section-title">Live Preview</h2>
          <div class="section-decoration"></div>
        </div>

        <div class="preview-card">
          <div class="preview-avatar">
            {{ (firstNameValue[0] || '?') }}{{ (lastNameValue[0] || '?') }}
          </div>
          <div class="preview-info">
            <h3 class="preview-name">
              {{ firstNameValue || 'First Name' }}
              {{ lastNameValue || 'Last Name' }}
            </h3>
            <p class="preview-email">{{ emailValue || 'email@example.com' }}</p>
            <div class="preview-salary">
              {{ salaryControlValue | currency:'USD' }} <span>/ year</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Actions du formulaire -->
      <div class="form-actions">
        <button
          type="button"
          class="btn btn-secondary"
          (click)="cancel()">
          <span class="btn-icon">â†¶</span>
          Cancel
        </button>
        <button
          type="submit"
          class="btn btn-primary glow-effect"
          [disabled]="employeeForm.invalid">
          <span class="btn-icon">{{ isEdit ? 'ğŸ’¾' : 'âœ¨' }}</span>
          {{ isEdit ? 'Update Superstar' : 'Create Superstar' }}
        </button>
      </div>
    </form>
  </div>
</div>
